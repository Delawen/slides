
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Migrate from older versions of GeoNetwork &#8212; GeoNetwork 3 data creator training manual v3.4.2 GeoNetwork 3 data creator training manual</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/training.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Integrate with CKAN" href="../ckan-integration/index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          GeoNetwork 3 data creator training manual</a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction to Metadata and Catalogues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#introduction-to-geonetwork-opensource">Introduction to GeoNetwork opensource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic-configuration/index.html">Configuring the catalog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#catalog-description">Catalog description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#catalog-server">Catalog Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#intranet-parameters">Intranet parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#proxy-server">Proxy server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#feedback">Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../profile-implementation/index.html">Profile Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../profile-implementation/index.html#create-a-new-profile">Create a new profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profile-implementation/index.html#load-the-created-custom-profile">Load the created custom profile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../map-customization/index.html">Custom maps and layers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../map-customization/index.html#background-layers">Background layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map-customization/index.html#store-a-map">Store a map</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metadata-view/index.html">Custom metadata views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../editor-customization/index.html">Custom Metadata Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#fields-with-fieldset">Fields with Fieldset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#multilingual-fields">Multilingual Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#views">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#defining-a-view">Defining a view</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#defining-a-tab">Defining a tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#adding-a-section-to-a-tab">Adding a section to a tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#adding-a-field">Adding a field</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#adding-a-template-based-field">Adding a template based field</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#adding-documentation-or-help">Adding documentation or help</a></li>
<li class="toctree-l2"><a class="reference internal" href="../editor-customization/index.html#adding-a-button">Adding a button</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ckan-integration/index.html">Integrate with CKAN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#harvest-to-geonetwork">Harvest to GeoNetwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#harvest-from-geonetwork">Harvest from GeoNetwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#making-data-available-as-rdf">Making data available as RDF</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migrate from older versions of GeoNetwork</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#default-method">Default method</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manual-migration">Manual migration</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Migrate from older versions of GeoNetwork</a><ul>
<li><a class="reference internal" href="#default-method">Default method</a></li>
<li><a class="reference internal" href="#manual-migration">Manual migration</a><ul>
<li><a class="reference internal" href="#apply-manually-the-scripts">Apply manually the scripts</a></li>
<li><a class="reference internal" href="#harvest-the-data">Harvest the data</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../ckan-integration/index.html" title="Previous Chapter: Integrate with CKAN"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Integrate with CKAN</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="migrate-from-older-versions-of-geonetwork">
<span id="migrate-from-older-version"></span><h1>Migrate from older versions of GeoNetwork<a class="headerlink" href="#migrate-from-older-versions-of-geonetwork" title="Permalink to this headline">¶</a></h1>
<p>On a frequent basis, we would want to migrate to a newer version of GeoNetwork. Migration between minor versions are easier than migration between major versions, but sometimes you will have to perform a major migration to keep up to date with latest features and bug fixing.</p>
<div class="section" id="default-method">
<h2>Default method<a class="headerlink" href="#default-method" title="Permalink to this headline">¶</a></h2>
<p>There is a default procedure for migration that simply consist in deploying the new version of GeoNetwork with the old database and data directory. On the next startup, GeoNetwork will detect a new version and should be able to migrate transparently to the user.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Always do a backup of the database and the data directory before attempting any upgrade, as a failed migration can leave the system on an unconsistent state.</p>
</div>
<p>But although this method works for most use cases, there is a chance that custom modifications of GeoNetwork may lead to errors on the automatic migration scripts, specially when migrating from 2.x versions.</p>
</div>
<div class="section" id="manual-migration">
<h2>Manual migration<a class="headerlink" href="#manual-migration" title="Permalink to this headline">¶</a></h2>
<p>On case of failure of the automatic procedure, we can always try a manual migration. This manual migration can have two different approaches:</p>
<div class="section" id="apply-manually-the-scripts">
<h3>Apply manually the scripts<a class="headerlink" href="#apply-manually-the-scripts" title="Permalink to this headline">¶</a></h3>
<p>If the default method fails, a qualified technician can try to apply manually one by one all the migration scripts available on GeoNetwork and check where they fail. It is advisable to migrate step by step only upgrading to the immediately newer version instead of trying to do all the migration in one single step.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Even if the execution of a script does not throw any error, that doesn’t mean the migration was successful. Always check that GeoNetwork is working fine and no data was lost in the process.</p>
</div>
</div>
<div class="section" id="harvest-the-data">
<h3>Harvest the data<a class="headerlink" href="#harvest-the-data" title="Permalink to this headline">¶</a></h3>
<p>If you are not familiar with the database and the data directory structure of GeoNetwork, it may be a bit complex to manually apply and fix the scripts. On this cases, you can always failback to harvest all the data from the old GeoNetwork instance to the new instance.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">With this method you will lose all the configuration data like harvesters, mail settings and user and groups privileges.</p>
</div>
<p>You will not harvest users and groups with this method, so you will have to manually re-create them on the new GeoNetwork instance and make sure metadata is assigned to the proper users and groups.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is advisable to ask a qualified technician for a migration script for the custom configuration of the portal.</p>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 GeoCat BV.<br/>
      Last updated on Jun 29, 2018.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>