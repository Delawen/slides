
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Custom Metadata Editor &#8212; GeoNetwork 3 data creator training manual v3.4.2 GeoNetwork 3 data creator training manual</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/training.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integrate with CKAN" href="../ckan-integration/index.html" />
    <link rel="prev" title="Custom metadata views" href="../metadata-view/index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          GeoNetwork 3 data creator training manual</a>
        <span class="navbar-text navbar-version pull-left"><b>3.4</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction to Metadata and Catalogues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#introduction-to-geonetwork-opensource">Introduction to GeoNetwork opensource</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basic-configuration/index.html">Configuring the catalog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#catalog-description">Catalog description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#catalog-server">Catalog Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#intranet-parameters">Intranet parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#proxy-server">Proxy server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-configuration/index.html#feedback">Feedback</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../profile-implementation/index.html">Profile Implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../profile-implementation/index.html#create-a-new-profile">Create a new profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profile-implementation/index.html#load-the-created-custom-profile">Load the created custom profile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../map-customization/index.html">Custom maps and layers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../map-customization/index.html#background-layers">Background layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map-customization/index.html#store-a-map">Store a map</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metadata-view/index.html">Custom metadata views</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Custom Metadata Editor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#fields">Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fields-with-fieldset">Fields with Fieldset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multilingual-fields">Multilingual Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#views">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-a-view">Defining a view</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-a-tab">Defining a tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-section-to-a-tab">Adding a section to a tab</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-field">Adding a field</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-template-based-field">Adding a template based field</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-documentation-or-help">Adding documentation or help</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-button">Adding a button</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ckan-integration/index.html">Integrate with CKAN</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#harvest-to-geonetwork">Harvest to GeoNetwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#harvest-from-geonetwork">Harvest from GeoNetwork</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ckan-integration/index.html#making-data-available-as-rdf">Making data available as RDF</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migrate/index.html">Migrate from older versions of GeoNetwork</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../migrate/index.html#default-method">Default method</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migrate/index.html#manual-migration">Manual migration</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Custom Metadata Editor</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#fields-with-fieldset">Fields with Fieldset</a></li>
<li><a class="reference internal" href="#multilingual-fields">Multilingual Fields</a></li>
<li><a class="reference internal" href="#views">Views</a></li>
<li><a class="reference internal" href="#defining-a-view">Defining a view</a></li>
<li><a class="reference internal" href="#defining-a-tab">Defining a tab</a><ul>
<li><a class="reference internal" href="#configuring-complex-element-display">Configuring complex element display</a></li>
<li><a class="reference internal" href="#customizing-thesaurus">Customizing thesaurus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#adding-a-section-to-a-tab">Adding a section to a tab</a></li>
<li><a class="reference internal" href="#adding-a-field">Adding a field</a></li>
<li><a class="reference internal" href="#adding-a-template-based-field">Adding a template based field</a></li>
<li><a class="reference internal" href="#adding-documentation-or-help">Adding documentation or help</a></li>
<li><a class="reference internal" href="#adding-a-button">Adding a button</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../metadata-view/index.html" title="Previous Chapter: Custom metadata views"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Custom metadata views</span>
    </a>
  </li>
  <li>
    <a href="../ckan-integration/index.html" title="Next Chapter: Integrate with CKAN"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Integrate with CKAN &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="custom-metadata-editor">
<span id="customizing-the-editor"></span><h1>Custom Metadata Editor<a class="headerlink" href="#custom-metadata-editor" title="Permalink to this headline">¶</a></h1>
<p>GeoNetwork helps data creators to easily change or add a metadata editor view. The metadata editor views are specific for each schema, so don’t forget to update all your schemas. Usually a schema has three different metadata views defined: Simple, Full and XML view. If you have INSPIRE enabled, usually another INSPIRE view is enabled on your editor.</p>
<div class="figure">
<img alt="../_images/views.png" src="../_images/views.png" />
</div>
<p>The simple view contains the most common elements edited. This is usually helpful for data creators that may not be interested on the full schema.</p>
<p>The full view is generated based on the XSD schema and contains all the possible elements available on that schema. This advanced view is useful for complex content creation, as it allows the editor to add, remove and fill any possible combination of elements (according to the XSD).</p>
<p>The xml view is a simple colored view that displays the xml of the metadata in a tree mode. This view should be used only for very advanced users, as it is easy to break the xml and make it not compliant with XSD. It is useful for users that may want to skip validation rules.</p>
<p>Validation rules are the same for all the views. The views only define what elements are shown on the editor. If some element is not shown on the editor, that doesn’t mean it is being removed from the metadata. An element not shown on an editor view will not be modified when saving the metadata.</p>
<p>You can create as many views as you want and you may want to create a different view depending on the profile of your data creator.</p>
<p>This views are defined on an xml file called config-editor.xml inside the layout folder.</p>
<p>To build such an editor configuration user needs to know the XSD of the standard to properly build views, tabs and fields according to element names (see <code class="code docutils literal notranslate"><span class="pre">schemas/config-editor.xsd</span></code>). Create an editor root element and attach:</p>
<ul class="simple">
<li>the schema and</li>
<li>namespaces for the standards</li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;editor</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
  <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">&quot;../../../../../../config-editor.xsd&quot;</span>
  <span class="na">xmlns:gn=</span><span class="s">&quot;http://www.fao.org/geonetwork&quot;</span>
  <span class="na">xmlns:gco=</span><span class="s">&quot;http://www.isotc211.org/2005/gco&quot;</span>
  <span class="na">xmlns:gmd=</span><span class="s">&quot;http://www.isotc211.org/2005/gmd&quot;</span>
  <span class="na">xmlns:gmx=</span><span class="s">&quot;http://www.isotc211.org/2005/gmx&quot;</span>
  <span class="na">xmlns:srv=</span><span class="s">&quot;http://www.isotc211.org/2005/srv&quot;</span>
  <span class="na">xmlns:gml=</span><span class="s">&quot;http://www.opengis.net/gml&quot;</span>
  <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span><span class="nt">&gt;</span>
</pre></div>
</div>
<p>An editor configuration should define first some general element description and then
a set of views with at least one.</p>
<p>Child elements:</p>
<ul class="simple">
<li><strong>fields</strong>, Optional element (see <span class="xref std std-ref">creating-custom-editor-fields</span>)</li>
<li><strong>fieldsWithFieldset</strong>, Optional element (see <span class="xref std std-ref">creating-custom-editor-fieldsWithFieldset</span>)</li>
<li><strong>multilingualFields</strong>, Optional element (see <span class="xref std std-ref">creating-custom-editor-multilingualFields</span>)</li>
<li><strong>views</strong>, Mandatory element (see <span class="xref std std-ref">creating-custom-editor-views</span>)</li>
</ul>
<div class="section" id="fields">
<h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Form field type configuration. Default is text. --&gt;</span>
<span class="nt">&lt;fields&gt;</span>
  <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gmd:abstract&quot;</span> <span class="na">use=</span><span class="s">&quot;textarea&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gco:Distance&quot;</span> <span class="na">use=</span><span class="s">&quot;number&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gmd:onLine&quot;</span> <span class="na">addDirective=</span><span class="s">&quot;data-gn-directory-entry-selector&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;directiveAttributes</span> <span class="na">data-template-add-action=</span><span class="s">&quot;true&quot;</span> <span class="na">data-template-type=</span><span class="s">&quot;onLine&quot;</span> <span class="na">data-filter=</span><span class="s">&#39;{&quot;_root&quot;: &quot;gmd:CI_OnlineResource&quot;}&#39;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/for&gt;</span>
<span class="nt">&lt;/fields&gt;</span>
</pre></div>
</div>
<p>This defines for each XSD defined type, which type of input to use. As with gmd:onLine, a customized angular input type can be defined.</p>
<p>You can define the form fields type configuration. Default is simple text input.  This list contains the list of exception which does not use a simple text input.</p>
<ul class="simple">
<li>all HTML5 input type or</li>
<li>an AngularJS directive name.</li>
</ul>
<p>An element can only have one type defined.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;editor&gt;</span>
 <span class="nt">&lt;fields&gt;</span>
   <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gmd:abstract&quot;</span> <span class="na">use=</span><span class="s">&quot;textarea&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gco:Real&quot;</span> <span class="na">use=</span><span class="s">&quot;number&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gco:Boolean&quot;</span> <span class="na">use=</span><span class="s">&quot;checkbox&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gco:Date&quot;</span> <span class="na">use=</span><span class="s">&quot;data-gn-date-picker&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The other option to define a more advanced field type is to catch the element using
and XSL template. This approach is used for keywords in ISO19139 for example
(see <code class="code docutils literal notranslate"><span class="pre">schemas/iso19139/src/main/plugin/iso19139/layout/layout-custom-fields-keywords.xsl</span></code>).</p>
</div>
<div class="section" id="fields-with-fieldset">
<h2>Fields with Fieldset<a class="headerlink" href="#fields-with-fieldset" title="Permalink to this headline">¶</a></h2>
<p>After defining all the simple fields, we define a list of fieldsets, which the editor will recognize as something to put together, a list of element to be displayed in a fieldset (ie. boxed element). Those elements usually contain children elements and define major section in the standard. For example, in ISO19139, identification and distribution are major section and should usually be displayed as a group of information.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;editor&gt;</span>
   <span class="nt">&lt;fields&gt;</span>...<span class="nt">&lt;/fields&gt;</span>
   <span class="nt">&lt;fieldsWithFieldset&gt;</span>
    <span class="nt">&lt;name&gt;</span>gmd:identificationInfo<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;name&gt;</span>gmd:distributionInfo<span class="nt">&lt;/name&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="multilingual-fields">
<h2>Multilingual Fields<a class="headerlink" href="#multilingual-fields" title="Permalink to this headline">¶</a></h2>
<p>Now we define what fields are multilingual. By default, if the standard as multilingual support like ISO19139, all fields will be displayed as multilingual fields. Define in the exclude section the exception (eg. gmd:identifier for example in ISO19139).</p>
<p>Then this section also allows to define how multilingual fields are displayed using the expanded elements. If expanded, then one field per language is displayed with no need to click on the language switcher.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;multilingualFields&gt;</span>
  <span class="c">&lt;!-- In multilingual mode, define which mode the widget should have. If expanded, then one field per language is displayed. --&gt;</span>
  <span class="nt">&lt;expanded&gt;</span>
    <span class="nt">&lt;name&gt;</span>gmd:title<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;name&gt;</span>gmd:abstract<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;/expanded&gt;</span>
  <span class="nt">&lt;exclude&gt;</span>
    <span class="nt">&lt;name&gt;</span>gmd:identifier<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;/exclude&gt;</span>
<span class="nt">&lt;/multilingualFields&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="views">
<h2>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h2>
<p>Finally, we define the views, which will customize which fields will be shown when editing the metadata. We can define more than one view per schema, so the editor user can select which one to use when editing the metadata.</p>
<p>At least one view MUST be defined but more view modes can be defined depending on the needs.</p>
<p>When a non-final field is defined on a view, the editor will automatically generate all the input fields inside it. So, you don’t have to explicitly define all the fields you want to show. The simplest view is the one based on the XSD of the schema.</p>
<p>The xml view can also be easily defined:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;xml&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;tab</span> <span class="na">id=</span><span class="s">&quot;xml&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
<p>If the view is too big, we can also define a set of tabs inside the editor, so not all fields are shown at the same time. Remember that when the user changes the tab, the content will be saved. So we should place related fields inside the same tab.</p>
</div>
<div class="section" id="defining-a-view">
<h2>Defining a view<a class="headerlink" href="#defining-a-view" title="Permalink to this headline">¶</a></h2>
<p>A view has a label and define a specific rendering of the metadata records.
A view is composed of one or more tabs.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;views&gt;</span>
    <span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span><span class="nt">&gt;</span>
        ....
    <span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
<p>The view could be displayed or not according to the metadata record content or
the current user session using the displayIfRecord and displayIfServiceInfo attribute.</p>
<p>Attributes:</p>
<ul class="simple">
<li><strong>name</strong> (Mandatory)</li>
</ul>
<p>The key of the view name stored in <code class="docutils literal notranslate"><span class="pre">{schema}/loc/{lang}/strings.xml</span></code> or the element name with namespace prefix.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;strings&gt;</span>
  <span class="nt">&lt;default&gt;</span>Simple<span class="nt">&lt;/default&gt;</span>
  <span class="nt">&lt;inspire&gt;</span>INSPIRE<span class="nt">&lt;/inspire&gt;</span>
  <span class="nt">&lt;custom-view&gt;</span>My view<span class="nt">&lt;/custom-view&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>disabled</strong> (Optional) Fixed value: <strong>true</strong></li>
</ul>
<p>Hide the view from the menu if the attribute is defined. Allows to easily disable a view.</p>
<ul class="simple">
<li><strong>upAndDownControlHidden</strong> (Optional) Fixed value: <strong>true</strong></li>
</ul>
<p>Define if up and down control should be displayed in that view. If not defined, controls are displayed.
Hide those controls in a view to make it easier with less controls for the end-user.</p>
<div class="figure">
<img alt="../_images/editor-control-updown.png" src="../_images/editor-control-updown.png" />
</div>
<ul class="simple">
<li><strong>displayIfRecord</strong> (Optional)</li>
</ul>
<p>XPath expression returning boolean value which will be evaluated against the metadata record. if true the view will be displayed.
eg. Display custom-view if metadata standard name contains Medsea:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span>
      <span class="na">displayIfRecord=</span><span class="s">&quot;contains(gmd:MD_Metadata/</span>
<span class="s">                                  gmd:metadataStandardName/gco:CharacterString,</span>
<span class="s">                                &#39;MedSea&#39;)&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>displayIfServiceInfo</strong> (Optional)</li>
</ul>
<p>XPath expression returning boolean value which will be evaluate against the service
information tree (Jeeves /root/gui element). if true the view will be displayed.</p>
<p>eg. Display custom view if user is Administrator:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span>
      <span class="na">displayIfServiceInfo=</span><span class="s">&quot;count(session[profile = &#39;Administrator&#39;]) = 1&quot;</span>
</pre></div>
</div>
<p>displayIfRecord and displayIfServiceInfo could be combined. An AND operator is used. Both condition MUST returned true for the view to be displayed.</p>
<ul class="simple">
<li><strong>hideTimeInCalendar</strong> (Optional) Fixed value: <strong>true</strong></li>
</ul>
<p>Define if calendar control should allows users to set date only or
datetime. If attribute is not set, then date and time can be set. This is controlled at the view level,
switching to another view may allow more control over the dates.</p>
<p>Child elements:</p>
<ul class="simple">
<li><strong>tab</strong></li>
<li><strong>flatModeExceptions</strong></li>
<li><strong>thesaurusList</strong></li>
</ul>
</div>
<div class="section" id="defining-a-tab">
<h2>Defining a tab<a class="headerlink" href="#defining-a-tab" title="Permalink to this headline">¶</a></h2>
<p>A view contains at least one tab. In that case it will be the default to display and no
top toolbar will be displayed to switch from one tab to another.</p>
<div class="figure">
<img alt="../_images/editor-tab-switcher.png" src="../_images/editor-tab-switcher.png" />
</div>
<p>Add custom view one default tab and a field for the title:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;views&gt;</span>
  <span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tab</span> <span class="na">id=</span><span class="s">&quot;custom-tab&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;section&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/*/gmd:title&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/tab&gt;</span>
  <span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
<div class="section" id="configuring-complex-element-display">
<h3>Configuring complex element display<a class="headerlink" href="#configuring-complex-element-display" title="Permalink to this headline">¶</a></h3>
<p>Elements to apply “flat” mode exceptions. By default,
“flat” mode does not display elements containing only children and no value.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;views&gt;</span>
  <span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tab</span> <span class="na">id=</span><span class="s">&quot;custom-tab&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;section&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/*/gmd:title&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;pointOfContact&quot;</span>
               <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:pointOfContact&quot;</span>
               <span class="na">del=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/tab&gt;</span>
  <span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
<p>eg. To display gmd:descriptiveKeywords element even if does not exist in the metadata
record or if the field should be displayed to add new occurences:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>  <span class="nt">&lt;/tab&gt;</span>

  <span class="c">&lt;!-- Elements that should not use the &quot;flat&quot; mode --&gt;</span>
  <span class="nt">&lt;flatModeExceptions&gt;</span>
    <span class="nt">&lt;for</span> <span class="na">name=</span><span class="s">&quot;gmd:descriptiveKeywords&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/flatModeExceptions&gt;</span>
<span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-thesaurus">
<span id="creating-custom-editor-thesauruslist"></span><h3>Customizing thesaurus<a class="headerlink" href="#customizing-thesaurus" title="Permalink to this headline">¶</a></h3>
<p>To configure the type of transformations
or the number of keyword allowed for e
thesaurus define a specific configuration:</p>
<p>eg. only 2 INSPIRE themes.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;thesaurusList&gt;</span>
  <span class="nt">&lt;thesaurus</span> <span class="na">key=</span><span class="s">&quot;external.theme.inspire-theme&quot;</span>
             <span class="na">maxtags=</span><span class="s">&quot;2&quot;</span>
             <span class="na">transformations=</span><span class="s">&quot;&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/thesaurusList&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-a-section-to-a-tab">
<span id="creating-custom-editor-section"></span><h2>Adding a section to a tab<a class="headerlink" href="#adding-a-section-to-a-tab" title="Permalink to this headline">¶</a></h2>
<p>A section is a group of fields.</p>
<p>Attributes:</p>
<ul class="simple">
<li><strong>name</strong> (Optional)</li>
</ul>
<p>An optional name to override the default one base on field name for the section. The name must be defined in <code class="docutils literal notranslate"><span class="pre">{schema}/loc/{lang}/strings.xml</span></code>.</p>
<ul class="simple">
<li><strong>xpath</strong> (Optional)</li>
</ul>
<p>The xpath of the element to match. If an XPath is set for a section, it should not contains any field.</p>
<ul class="simple">
<li><strong>mode</strong> (Optional) Fixed value: <strong>flat</strong></li>
</ul>
<p>The “flat” mode is an important concept to understand for the editor. It controls the way:</p>
<blockquote>
<div><ul class="simple">
<li>complex elements are displayed (ie. elements having children) and</li>
<li>non existing elements are displayed (ie. elements in the standard not in the current document).</li>
</ul>
</div></blockquote>
<p>When a tab is in flat mode, this tab will not display element which are not in the current metadata
document and it will display complex element as a group only if defined in the list of
element with fieldset (see <span class="xref std std-ref">creating-custom-editor-fieldsWithFieldset</span>).</p>
<p>Example for a contact in non “flat” mode:</p>
<div class="figure">
<img alt="../_images/editor-contact-nonflatmode.png" src="../_images/editor-contact-nonflatmode.png" />
</div>
<p>Example for a contact in “flat” mode:</p>
<div class="figure">
<img alt="../_images/editor-contact-flatmode.png" src="../_images/editor-contact-flatmode.png" />
</div>
<p>This mode makes the layout simpler but does not provide all controls to remove
some of the usually boxed element. End-user can still move  to the advanced view mode
to access those hidden elements in flat mode.</p>
<p>It’s recommended to preserve at least one view in non “flat” mode for reviewer or administrator in order
to be able:</p>
<blockquote>
<div><ul class="simple">
<li>to build proper templates based on the standards</li>
<li>to fix any types of errors.</li>
</ul>
</div></blockquote>
<ul class="simple">
<li><strong>or</strong> (Optional)</li>
</ul>
<p>Local name to match if the element does not exist.</p>
<ul class="simple">
<li><strong>or</strong> (Optional)</li>
</ul>
<p>The local name of the geonet child (ie. non existing element) to match.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:language&quot;</span>
       <span class="na">or=</span><span class="s">&quot;language&quot;</span>
       <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>in</strong> (Optional)</li>
</ul>
<p>XPath of the geonet:child element with the or name to look for. Usually points to the parent of last element of the XPath attribute.</p>
<ul class="simple">
<li><strong>in</strong> (Optional)</li>
</ul>
<p>The element to search in for the geonet child.</p>
</div>
<div class="section" id="adding-a-field">
<span id="creating-custom-editor-field"></span><h2>Adding a field<a class="headerlink" href="#adding-a-field" title="Permalink to this headline">¶</a></h2>
<p>To display a simple element use the <code class="docutils literal notranslate"><span class="pre">xpath</span></code> attribute to point to the element to display:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/*/gmd:title&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>To override a field label use the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute and define that new label in <code class="docutils literal notranslate"><span class="pre">{schema}/loc/{lang}/strings.xml</span></code>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;myTitle&quot;</span>
       <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/*/gmd:title&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>To display a complex element which exist in the metadata document:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;pointOfContact&quot;</span>
       <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:pointOfContact&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>In that case all children elements are also displayed.</p>
<p>To display a field if exist in the metadata document or providing a add button
in case it does not exist (specify <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">or</span></code> attribute):</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;pointOfContact&quot;</span>
       <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:pointOfContact&quot;</span>
       <span class="na">or=</span><span class="s">&quot;pointOfContact&quot;</span>
       <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*&quot;</span>
       <span class="na">del=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Activate the “flat” mode at the tab level to make the form display only existing elements:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;view</span> <span class="na">name=</span><span class="s">&quot;custom-view&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;tab</span> <span class="na">id=</span><span class="s">&quot;custom-tab&quot;</span> <span class="na">default=</span><span class="s">&quot;true&quot;</span> <span class="na">mode=</span><span class="s">&quot;flat&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;section&gt;</span>
        <span class="nt">&lt;field</span>
                <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/*/gmd:title&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;pointOfContact&quot;</span>
               <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/gmd:pointOfContact&quot;</span>
               <span class="na">or=</span><span class="s">&quot;pointOfContact&quot;</span>
               <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*&quot;</span>
               <span class="na">del=</span><span class="s">&quot;.&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/section&gt;</span>
    <span class="nt">&lt;/tab&gt;</span>
  <span class="nt">&lt;/view&gt;</span>
</pre></div>
</div>
<p>Attributes:</p>
<ul class="simple">
<li><strong>xpath</strong> (Mandatory)</li>
</ul>
<p>The xpath of the element to match.</p>
<ul class="simple">
<li><strong>if</strong> (Optional)</li>
</ul>
<p>An optional xpath expression to evaluate to define if the element should be displayed
only in some situation (eg. only for service metadata records). eg.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span>
  <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification/</span>
<span class="s">  gmd:resourceConstraints/gmd:MD_LegalConstraints/gmd:otherConstraints&quot;</span>
  <span class="na">if=</span><span class="s">&quot;count(gmd:MD_Metadata/gmd:identificationInfo/srv:SV_ServiceIdentification) &gt; 0&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>name</strong> (Optional)</li>
</ul>
<p>A field name to override the default name.</p>
<ul class="simple">
<li><strong>isMissingLabel</strong> (Optional)</li>
</ul>
<p>The label to display if the element does not exist in the metadata record. It indicates that
the element is missing in the current record. It could be use for a conformity section saying
that the element is “not evaluated”. EXPERIMENTAL</p>
<ul class="simple">
<li><strong>or</strong> (Optional)</li>
</ul>
<p>The local name of the geonet child (ie. non existing element) to match.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:language&quot;</span>
       <span class="na">or=</span><span class="s">&quot;language&quot;</span>
       <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>in</strong> (Optional)</li>
</ul>
<p>The element to search in for the geonet child.</p>
<ul class="simple">
<li><strong>del</strong> (Optional)</li>
</ul>
<p>Relative XPath of the element to remove when the remove button is clicked.</p>
<p>eg. If a template field match linkage and allows editing of field URL,
the remove control should remove the parent element gmd:onLine.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;url&quot;</span>
  <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:distributionInfo/gmd:MD_Distribution/gmd:transferOptions</span>
<span class="s">            /gmd:MD_DigitalTransferOptions/gmd:onLine/gmd:CI_OnlineResource/gmd:linkage&quot;</span>
  <span class="na">del=</span><span class="s">&quot;../..&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;template&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>templateModeOnly</strong> (Optional) Fixed value: <strong>true</strong></li>
</ul>
<p>Define if the template mode should be the only mode used. In that case, the field is always
displayed based on the XML template snippet field configuration. Default is false.</p>
<ul class="simple">
<li><strong>notDisplayedIfMissing</strong> (Optional) Fixed value: <strong>true</strong></li>
</ul>
<p>If the field is found and a geonet child also, the geonet child to add a new one is not displayed.</p>
<p>Child elements:</p>
<ul class="simple">
<li><strong>template</strong>, Optional element (see <a class="reference internal" href="#creating-custom-editor-template"><span class="std std-ref">Adding a template based field</span></a>)</li>
</ul>
</div>
<div class="section" id="adding-a-template-based-field">
<span id="creating-custom-editor-template"></span><h2>Adding a template based field<a class="headerlink" href="#adding-a-template-based-field" title="Permalink to this headline">¶</a></h2>
<p>A templace configuration for an XML snippet to edit.</p>
<p>A template field is compose of an XML snippet corresponding to the element to edit where values to be edited are identified using {{fields}} notation. Each fields needs to be defined as values from which one input field will be created.</p>
<p>This mode is used to hide the complexity of the XML element to edit. eg.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;url&quot;</span>
       <span class="na">templateModeOnly=</span><span class="s">&quot;true&quot;</span>
       <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:distributionInfo/g.../gmd:linkage&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;template&gt;</span>
     <span class="nt">&lt;values&gt;</span>
       <span class="nt">&lt;key</span> <span class="na">label=</span><span class="s">&quot;url&quot;</span>
            <span class="na">xpath=</span><span class="s">&quot;gmd:URL&quot;</span>
            <span class="na">tooltip=</span><span class="s">&quot;gmd:linkage&quot;</span><span class="nt">/&gt;</span>
     <span class="nt">&lt;/values&gt;</span>
     <span class="nt">&lt;snippet&gt;</span>t
       <span class="nt">&lt;gmd:linkage&gt;</span>
         <span class="nt">&lt;gmd:URL&gt;</span>{{url}}<span class="nt">&lt;/gmd:URL&gt;</span>
       <span class="nt">&lt;/gmd:linkage&gt;</span>
     <span class="nt">&lt;/snippet&gt;</span>
   <span class="nt">&lt;/template&gt;</span>
</pre></div>
</div>
<p>The template field mode will only provide editing of part of the snippet element. In some case the snippet may contains more elements than the one edited. In such case, the snippet MUST identified the list of potential elements in order to not to loose information when using this mode. Use the gn:copy element to properly combined the template with the current document.</p>
<p>eg. The gmd:MD_Identifier may contain a gmd:authority node which needs to be preserved.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;snippet&gt;</span>
  <span class="nt">&lt;gmd:identifier&gt;</span>
    <span class="nt">&lt;gmd:MD_Identifier&gt;</span>
      <span class="nt">&lt;gn:copy</span> <span class="na">select=</span><span class="s">&quot;gmd:authority&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;gmd:code&gt;</span>
        <span class="nt">&lt;gco:CharacterString&gt;</span>{{code}}<span class="nt">&lt;/gco:CharacterString&gt;</span>
      <span class="nt">&lt;/gmd:code&gt;</span>
    <span class="nt">&lt;/gmd:MD_Identifier&gt;</span>
  <span class="nt">&lt;/gmd:identifier&gt;</span>
<span class="nt">&lt;/snippet&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-documentation-or-help">
<h2>Adding documentation or help<a class="headerlink" href="#adding-documentation-or-help" title="Permalink to this headline">¶</a></h2>
<p>Insert an HTML fragment in the editor.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;edmerpName&quot;</span>
       <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/*/</span>
<span class="s">                gmd:pointOfContact[*/gmd:role/*/@codeListValue=&#39;edmerp&#39;]&quot;</span>
       <span class="na">del=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;text</span> <span class="na">ref=</span><span class="s">&quot;edmerp-help&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The fragment is defined in localization file strings.xml:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;edmerp-help&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-offset-2 col-xs-8&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;help-block&quot;</span><span class="nt">&gt;</span>The European Directory for Marine Environment
          Research Project (EDMERP) contains descriptions of many projects.
          This catalogue is maintained ...<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/edmerp-help&gt;</span>
</pre></div>
</div>
<p>Attributes:</p>
<ul class="simple">
<li><strong>ref</strong> (Mandatory)</li>
</ul>
<p>The tag name of the element to insert in the localization file.</p>
</div>
<div class="section" id="adding-a-button">
<span id="creating-custom-editor-action"></span><h2>Adding a button<a class="headerlink" href="#adding-a-button" title="Permalink to this headline">¶</a></h2>
<p>A button which trigger an action (usually a process or a add button).</p>
<p>Example of a button adding an extent:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;action</span> <span class="na">type=</span><span class="s">&quot;add&quot;</span>
        <span class="na">name=</span><span class="s">&quot;extent&quot;</span>
        <span class="na">or=</span><span class="s">&quot;extent&quot;</span>
        <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:identificationInfo/gmd:MD_DataIdentification&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;template&gt;</span>
      <span class="nt">&lt;snippet&gt;</span>
        <span class="nt">&lt;gmd:extent&gt;</span>
          <span class="nt">&lt;gmd:EX_Extent&gt;</span>
            <span class="nt">&lt;gmd:geographicElement&gt;</span>
              <span class="nt">&lt;gmd:EX_GeographicBoundingBox&gt;</span>
                <span class="nt">&lt;gmd:westBoundLongitude&gt;</span>
                  <span class="nt">&lt;gco:Decimal/&gt;</span>
                <span class="nt">&lt;/gmd:westBoundLongitude&gt;</span>
                <span class="nt">&lt;gmd:eastBoundLongitude&gt;</span>
                  <span class="nt">&lt;gco:Decimal/&gt;</span>
                <span class="nt">&lt;/gmd:eastBoundLongitude&gt;</span>
                <span class="nt">&lt;gmd:southBoundLatitude&gt;</span>
                  <span class="nt">&lt;gco:Decimal/&gt;</span>
                <span class="nt">&lt;/gmd:southBoundLatitude&gt;</span>
                <span class="nt">&lt;gmd:northBoundLatitude&gt;</span>
                  <span class="nt">&lt;gco:Decimal/&gt;</span>
                <span class="nt">&lt;/gmd:northBoundLatitude&gt;</span>
              <span class="nt">&lt;/gmd:EX_GeographicBoundingBox&gt;</span>
            <span class="nt">&lt;/gmd:geographicElement&gt;</span>
          <span class="nt">&lt;/gmd:EX_Extent&gt;</span>
        <span class="nt">&lt;/gmd:extent&gt;</span>
      <span class="nt">&lt;/snippet&gt;</span>
    <span class="nt">&lt;/template&gt;</span>
  <span class="nt">&lt;/action&gt;</span>
</pre></div>
</div>
<p>Example of a button displayed only if there is no resource identifier ending with
the metadata record identifier (ie. <code class="docutils literal notranslate"><span class="pre">if</span></code> attribute) and running the process
with <code class="docutils literal notranslate"><span class="pre">add-resource-id</span></code> identifier:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;action</span> <span class="na">type=</span><span class="s">&quot;batch&quot;</span>
        <span class="na">process=</span><span class="s">&quot;add-resource-id&quot;</span>
        <span class="na">if=</span><span class="s">&quot;count(gmd:MD_Metadata/gmd:identificationInfo/*/</span>
<span class="s">                      gmd:citation/*/gmd:identifier[</span>
<span class="s">                        ends-with(gmd:MD_Identifier/gmd:code/gco:CharacterString,</span>
<span class="s">                                  //gmd:MD_Metadata/gmd:fileIdentifier/gco:CharacterString)]) = 0&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Attributes:</p>
<ul class="simple">
<li><strong>name</strong> (Optional)</li>
<li><strong>type</strong> (Optional)</li>
</ul>
<p>The type of control</p>
<ul class="simple">
<li><strong>process</strong> (Optional)</li>
</ul>
<p>The process identifier (eg. add-resource-id).</p>
<ul class="simple">
<li><strong>forceLabel</strong> (Optional)</li>
</ul>
<p>Force the label to be displayed for this action
even if the action is not the first element of its
kind. Label with always be displayed.</p>
<ul class="simple">
<li><strong>if</strong> (Optional)</li>
</ul>
<p>An XPath expression to evaluate. If true, the control is displayed. eg.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span>count(gmd:MD_Metadata/gmd:identificationInfo/*/gmd:citation/gmd:CI_Citation/
gmd:identifier[ends-with(gmd:MD_Identifier/gmd:code/gco:CharacterString,
//gmd:MD_Metadata/gmd:fileIdentifier/gco:CharacterString)]) = 0
</pre></div>
</div>
<p>will only displayed the action control if the resource identifier does not end
with the metadata identifier.</p>
<ul class="simple">
<li><strong>or</strong> (Optional)</li>
</ul>
<p>Local name to match if the element does not exist.</p>
<ul class="simple">
<li><strong>or</strong> (Optional)</li>
</ul>
<p>The local name of the geonet child (ie. non existing element) to match.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;field</span> <span class="na">xpath=</span><span class="s">&quot;/gmd:MD_Metadata/gmd:language&quot;</span>
       <span class="na">or=</span><span class="s">&quot;language&quot;</span>
       <span class="na">in=</span><span class="s">&quot;/gmd:MD_Metadata&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>in</strong> (Optional)</li>
</ul>
<p>XPath of the geonet:child element with the or name to look for. Usually points to the parent of last element of the XPath attribute.</p>
<ul class="simple">
<li><strong>in</strong> (Optional)</li>
</ul>
<p>The element to search in for the geonet child.</p>
<ul class="simple">
<li><strong>addDirective</strong> (Optional)</li>
</ul>
<p>The directive to use for the add control for this field.</p>
<p>Child elements:</p>
<ul class="simple">
<li><strong>template</strong>, Optional element (see <a class="reference internal" href="#creating-custom-editor-template"><span class="std std-ref">Adding a template based field</span></a>)</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017 GeoCat BV.<br/>
      Last updated on Jun 29, 2018.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.<br/>
    </p>
  </div>
</footer>
  </body>
</html>